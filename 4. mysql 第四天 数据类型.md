## 数据类型



```
	数据类型是数据写入的格式，每个字段有且仅有一个数据类型与其对应。 不同的数据类型在存储数据的时候格式也是不一样的
```

### #数据类型

#### 1.整数类型

```mysql
             说明                存储需求             有符号取值范围
tinyint   #非常小的整数             1字节              -128~127
smallint  #较小的整数               2字节              -32768~32767
mediumint  #中等大小的整数          3字节              -8388608~8388607
int       #普通大小的整数           4字节              -2147483648~2147483647
bigint    #较大整数类型             8字节              -9223372036854775808~9223372036854775807

取值范围
1字节 = 8比特    
-11111111    2^7-1=127
-1111111111111111  2^15-1 =32767
-111111111111111111111111 2^24-1 =8388607
......
+11111111    2^7= -128
+1111111111111111  2^15 = -32767
+111111111111111111111111 2^23 = -8388607
......






#无符号取值范围
1. 0~255              2^8=255 ...   tinyint
2. 0~65536                            smallint
3. 0~16777215                         mediumint
4. 0~4294967295                        int
5. 0~18446744973709551615            bigint




```

##### #在数值类数据类型种默认有符号的取值范围，如果想要写入无符号的取值范围(优化资源浪费)

使用方法

```
字段名 数值类数据类型 unsigned
```

案例

```mysql
#创建一个表
create table text(id int);

#修改表的类型是
alter table text modify id tinyint unsigned;    #采取使用无

insert into text(255);         #这样允许插入的数据范围是0-255 因为采取了 无字符类型unsigned，所以不能插入超过这个范围的数据

#这个有什么好处： 占用字节数量少，节省大量的空间浪费。 其他的整理类型类似
#我们要合理的根据资料的使用情况来选择数据类型
```

案例2

```mysql
#创建所有整数类型
create table test1(
	x tinyint,
	y smallint,
	z mediumint,
	m int,
	n bigint);

```



#### 2.浮点类型（小数）

```mysql
	# m作为精度，表示一共能存放的数值的位数，n表示标度，代表保留的小数位数，浮点数进行保存数据时，使用的正常的数值来保存，而decimal使用的字符串形式保存数据，准确度较浮点数而言较高一些通常用于货币计算，科学计算，浮点数较于定点数而言虽然不精确但是取值范围较广，适合用于范围大，而不需要特别准确的数据
	
	
1. 浮点数类型               说明                存储需求
	float(m,n)           #单精度浮点            4字节
 	double(m,n)          #双精度浮点            8字节
 	
2. 定点数类型
	decimal(m,n)           #定点数             m+2字节

```

案例

```mysql
create table test2( x float(5,2), y double(5,2), z decimal(5,2));  #使用了浮点数和定点数
insert into test2 value(5.155,5.123,5.2345);

#查询
 select * from test2;
+------+------+------+
| x    | y    | z    |
+------+------+------+
| 5.16 | 5.12 | 5.23 |
+------+------+------+
1 row in set (0.00 sec)

#使用浮点数时，进行四舍五入，浮点数是不提示的 ，定点数四舍五入时会报warning提升您四舍五入了

show warnings;
+-------+------+----------------------------------------+
| Level | Code | Message                                |
+-------+------+----------------------------------------+
| Note  | 1265 | Data truncated for column 'z' at row 1 |
+-------+------+----------------------------------------+
#提示您定点数值的被四舍五入了
```

案例2

```
drop table test2;
create table test2(x decimal(3,1));
insert into test2 values(100,99);

insert into test2 values(1.1);
insert into test2 values(99.9);       #最大，3位是包含小数点的，有小数点时，前面最多两位，小数点最多1位

```



#### 3 #数据类数据类型

```mysql
#可以使用多种日期记录的方式记录数据，比如说年月日，每个日期类数据类型都有一个合法的取值范围
```



```mysql
数据类型         格式              存储需求             取值范围
year            yyyy               1字节              1901-2155
time            HH:MM:SS           3字节              -838:59:59~838:59:59
date            yyyy-mm-dd         3字节              1000-01-01~9999-01-01
datetime        yyyy-mm-dd hh:mm:ss 8字节     1000-01-01 00:00:00~9999-01-01 23:59:59
timestamp       yyyy-mm-dd hh:mm:ss  4字节
                                  1980-01-01 00:00:00 utc~ 2038-01-19 03:14:07 utc
                                         #utc 世界标准世界
```

##### 1 year

```mysql
create table test3(y year);

insert into test3 values(2010),('2019'),(2155);     #取值范围，如果写入的数据不满足要求，则为非法值，5.5版本将会变成0进行显示，而5.6版本则会写入失败。  yyyy的取值范围中只要2155以上则无法写入


select * from test3;
+------+
| y    |
+------+
| 2010 |
| 2019 |
| 2155 |

```

###### #year数据的写入规则

```mysql
1 '0'或者'00' - '69' 被识别为2000-2069
2. '70' - '90'  被识别为1970-1999
3. 1-69 被识别为2001-2069
4. 70-99 被识别为1970-1999
5. 不带引号的0被识别为0000
```

案例

```mysql
#清空表数据
delete from test3
#插入数据
insert into test3 values(0),('0'),(00),('00'),(70),(69);
#查看数据
select * from test3;
+------+
| y    |
+------+
| 0000 |
| 2000 |
| 0000 |
| 2000 |
| 1970 |
| 2069 |
+------+

```



##### 2.#清除表数据的方法

```mysql
delete from 表名 [where];          #（可以判断删除指定信息，但会遗留空间碎片）
或
truncate table 表名;       #（只能强制删除表中所有数据，释放空间）
 
#区别： 

	#使用truncate table 在功能的使用上和delete相同，但是truncate只能清空所有的表数据，但是delete后可以使用where条件判断进行删除指定的部分数据。 

	#truncate 操作过后的表速度要比delete操作的表速度快，delete会产生空间碎片，而truncate则不会，因为truncate删除的同时将会释放表空间，而delete不释放，truncate占用系统和事务日志资源较少
```

###### 1. 使用delete 表数据

```mysql
create table test4(id int primary key auto_increment,name varchar(30));
insert into test4 (name) values('1');
insert into test4 (name) values('1');
insert into test4 (name) values('1');

#当表数据被清空时，使用truncate清空的表，索引和自增值都将恢复成初始大小，而delete不会


#查看
select * from test4;

+----+------+
| id | name |
+----+------+
|  1 | 1    |
|  2 | 1    |
|  3 | 1    |

#使用delete删除
delete from test4 ;
#再次插入数据
insert into test4 (name) values('1');

select * from test4;
+----+------+
| id | name |
+----+------+
|  4 | 1    |
+----+------+
#自增id还是根据碎片的id来继续递增的
```

######  2.使用truncate 删除表数据

```mysql
truncate table test4;

#再次插入数据
insert into test4 (name) values('1');

select * from test4;
+----+------+
| id | name |
+----+------+
|  1 | 1    |
+----+------+
#则没有碎片
```



##### 3.time 

time写入规则

```mysql
#字符串或数值按照3组数据写入（时分秒） 正常识别
#当有两组数据时，被识别为时分
#当有1组数据时，被识别为了秒
#当带有空格时，空格前面的数值被识别为天数，当空格后面有3组数据时，正常识别时分秒
#当带有空格时，两组数据，别识别为时分，只有一组数据时，识别为小时
#当0被写入的时候
```

案例

```mysql
######################案例1#####################################
create table test5(t time);
insert  into test5 values('19:42:00'),(1111213);
#查询
select * from test5;
+-----------+
| t         |
+-----------+
| 19:42:00  |
| 111:12:13 |

######################案例2#####################################


#写入
insert into test5 values('23:23'),('2 10:10'),('3 02'),(10);
#查询
select * from test5;
+-----------+
| t         |
+-----------+
| 19:42:00  |
| 111:12:13 |
-------------
| 23:23:00  |   #看这里  ('23:23')
| 58:10:00  |   #('2 10:10')     2变为了2天+10个小时+10分
| 74:00:00  |   #('3 02')       3变成了3天+2个小时
| 00:00:10  |   #(10)    被直接识别为了10秒
+-----------+

######################案例3#####################################
create table test5(t time);

insert into test5 values (current_time),(now());

> select * from test5;
+-----------+
| t         |
+-----------+
| 19:42:00  |
| 111:12:13 |
| 23:23:00  |
| 58:10:00  |
| 74:00:00  |
| 00:00:10  |
| 10:53:42  |
| 10:53:42  |
+-----------+
#记录刚才存储的时间




```



##### 4 date

```mysql
数据写入规则
当以年月时方式写入时（四位数年份两位数月份前两位数天数）正常识别
当年份以两位数方式写入时
00-69或者'00' -'69' 被识别为2000-2069
79-99 或者 '70' - '99' 被识别为1970-1999
在mysql中支持不严谨的语法格式
```



 案例

```mysql
######################案例1#####################################

create table test6(d date);
insert into test6 values('1999-01-01'),('1999-01-01'),(19980101),(20191227);

+------------+
| d          |
+------------+
| 1999-01-01 |
| 1999-01-01 |
| 1998-01-01 |
| 2019-12-27 |
+------------+
#写入的规则，如果加入横杠-，的话要设置为字符串输入，或者纯数字也行





######################案例2#####################################
truncate table test6;

insert into test6 values('99-01-01'),('19-01-01'),(700101);
insert into test6 values(000101),('000101');

select * from test6;
+------------+
| d          |
+------------+
| 1999-01-01 |
| 2019-01-01 |
| 1970-01-01 |
| 2000-01-01 |
| 2000-01-01 |
+------------+

######################案例3#####################################
truncate table test6;

insert into test6 values ('99!01@01'),('2019#12$27');  #支持不严谨的语法，符号

select * from test6;
+------------+
| d          |
+------------+
| 1999-01-01 |
| 2019-12-27 |

```

##### 5.datetime （年月日，时分秒）

```mysql
数据写入规则
#如果以两位数年份写入时，详情请见date类型
```

案例

```mysql
######################案例3#####################################
create table test7(dt datetime);

insert into test7 values('19-12-27 11:08:00'),('99-01-01 01:01:01'),('00%01&02 03*04?05'),(101010101010);
#可以识别以上种类

#查询
select * from test7;
+---------------------+
| dt                  |
+---------------------+
| 2019-12-27 11:08:00 |
| 1999-01-01 01:01:01 |
| 2000-01-02 03:04:05 |
| 2010-10-10 10:10:10 |
+---------------------+

######################案例3#####################################
 insert into test7 values(now());

select * from test7;
+---------------------+
| dt                  |
+---------------------+
| 2019-12-27 11:08:00 |
| 1999-01-01 01:01:01 |
| 2000-01-02 03:04:05 |
| 2010-10-10 10:10:10 |
| 2019-12-27 11:14:19 | #看这条，当前的时间写入，精确到秒
+---------------------+


```

###### UTF查看世界标准世界

```mysql
select utc_time();
+------------+
| utc_time() |
+------------+
| 03:16:59   |
+------------+
```



##### 6.timestamp

```mysql
写入规则
#和datetime的区别在于可以通过时区的方式修改存放表里的世界，且取值范围 小于datetime
#写入规则详情请见datetime（收到取值范围的限制）

#设置时区的语法
set time_zone='时区'
```

案例

```mysql
##########################案例1#################################
create table test8(ts timestamp);

insert into test8 values (now());

set time_zone='+00:00';     #设置后，得到的世界就是世界标准世界 '+08:00' 就是上海时区时间

select * from test8;
+---------------------+
| ts                  |
+---------------------+
| 2019-12-27 03:19:58 |
+---------------------+


```



#### 4. #字符串数据类型

